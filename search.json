[{"path":"https://emf-creaf.github.io/medfateutils/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Miquel De Cáceres. Author, maintainer, copyright holder. Víctor Granda. Author. Adriana Tovar. Author. Antoine Cabon. Author. Nicolas Martin-StPaul. Author. Arsène Druel. Author.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"De Cáceres M, Granda V, Tovar , Cabon , Martin-StPaul N, Druel (2024). medfateutils: Utility Functions Package 'medfate'. R package version 0.3.0, https://github.com/emf-creaf/medfateutils, https://emf-creaf.github.io/medfateutils/.","code":"@Manual{,   title = {medfateutils: Utility Functions for Package `medfate`},   author = {Miquel {De Cáceres} and Víctor Granda and Adriana Tovar and Antoine Cabon and Nicolas Martin-StPaul and Arsène Druel},   year = {2024},   note = {R package version 0.3.0, https://github.com/emf-creaf/medfateutils},   url = {https://emf-creaf.github.io/medfateutils/}, }"},{"path":[]},{"path":"https://emf-creaf.github.io/medfateutils/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Utility Functions for Package `medfate`","text":"Package medfateutils designed facilitate creating inputs package medfate. Specifically utility functions provided facilitate defining inputs (soil, species vegetation parameters) simulations.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/index.html","id":"package-installation","dir":"","previous_headings":"","what":"Package installation","title":"Utility Functions for Package `medfate`","text":"latest stable versions GitHub follows (required package devtools installed/updated first):","code":"remotes::install_github(\"emf-creaf/medfateutils\")"},{"path":"https://emf-creaf.github.io/medfateutils/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Utility Functions for Package `medfate`","text":"package still active development. example extensive usage functions medfateutils can found article ‘Species parameterization Spain’ medfate’s website.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/estimateRootingDepth.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate Rooting Depth Parameters — estimateRootingDepth","title":"Estimate Rooting Depth Parameters — estimateRootingDepth","text":"Estimates rooting depth parameters forest objects following Cabon et al. (2018).","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/estimateRootingDepth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate Rooting Depth Parameters — estimateRootingDepth","text":"","code":"estimateRootingDepth(   forest,   soil,   PET_summer,   P_summer,   SpParams,   fillMissing = FALSE )  estimateRootingDepthList(   forestlist,   soillist,   PET_summer,   P_summer,   SpParams,   fillMissing = FALSE )"},{"path":"https://emf-creaf.github.io/medfateutils/reference/estimateRootingDepth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate Rooting Depth Parameters — estimateRootingDepth","text":"forest object class forest. soil object class soil data frame soil parameters. PET_summer Average (climatic) potential evapotranspiration (mm) corresponding summer months. P_summer Average (climatic) precipitation (mm) corresponding summer months. SpParams data frame species parameters (see SpParamsMED). fillMissing boolean flag indicate missing estimates filled mean values. forestlist list objects class forest. soillist list objects class soil data frames soil parameters.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/estimateRootingDepth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate Rooting Depth Parameters — estimateRootingDepth","text":"Function estimateRootingDepth returns object class forest modified values Z50 Z95. Function estimateRootingDepthList returns list forest objects modified root distribution parameters.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/estimateRootingDepth.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate Rooting Depth Parameters — estimateRootingDepth","text":"PET_summer P_summer length one, elements repeated elements forestlist. Similarly, soillist object class soil data frame soil parameters, soil parameters repeated elements forestlist.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/estimateRootingDepth.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimate Rooting Depth Parameters — estimateRootingDepth","text":"Cabon, ., Martinez-Vilalta, J., de Aragon, J.M., Poyatos, R., De Caceres, M., 2018. Applying eco-hydrological equilibrium hypothesis model root distribution water-limited forests. Ecohydrology 11, e2015. https://doi.org/10.1002/eco.2015","code":""},{"path":[]},{"path":"https://emf-creaf.github.io/medfateutils/reference/estimateRootingDepth.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Estimate Rooting Depth Parameters — estimateRootingDepth","text":"Miquel De Cáceres Ainsa, EMF-CREAF","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/medfateutils-package.html","id":null,"dir":"Reference","previous_headings":"","what":"medfateutils: Utility Functions for Package `medfate` — medfateutils-package","title":"medfateutils: Utility Functions for Package `medfate` — medfateutils-package","text":"Utility functions facilitate defining inputs (soil, species vegetation parameters) simulations package medfate.","code":""},{"path":[]},{"path":"https://emf-creaf.github.io/medfateutils/reference/medfateutils-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"medfateutils: Utility Functions for Package `medfate` — medfateutils-package","text":"Maintainer: Miquel De Cáceres miquelcaceres@gmail.com [ORCID](https://orcid.org/0000-0001-7132-2080) Author: Víctor Granda [ORCID](https://orcid.org/0000-0002-0469-1991) Author: Adriana Tovar Author: Antoine Cabon [ORCID](https://orcid.org/0000-0001-6426-1726) Author: Nicolas Martin-StPaul [ORCID](https://orcid.org/0000-0001-7574-0108) Author: Arsène Druel [ORCID](https://orcid.org/0000-0002-3938-0085)","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrCalibration.html","id":null,"dir":"Reference","previous_headings":"","what":"Calibration of root distribution — spwb_ldrCalibration","title":"Calibration of root distribution — spwb_ldrCalibration","text":"function spwb_ldrCalibration calibrates species root distribution within spwb, given arguments x, meteo, psi_crit, obs calibVar. calibration based reference measured values. reference measured values can Soil water content, Total tranpiration Transpiration cohort. Return calibrated root distribution tree species (shrub calibration done), expressed parameters function root_ldrDistribution.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrCalibration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calibration of root distribution — spwb_ldrCalibration","text":"","code":"spwb_ldrCalibration(   x,   meteo,   calibVar,   obs,   RZmin = 301,   RZmax = 4000,   V1min = 0.01,   V1max = 0.94,   resolution = 20,   heat_stop = 0,   transformation = \"identity\",   verbose = FALSE )"},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrCalibration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calibration of root distribution — spwb_ldrCalibration","text":"x object class spwbInput. meteo data frame daily meteorological data series. calibVar character string indicating calibration variable used. can one following: SWC, Eplanttot Cohorts. obs Measured calibration variable. Depending value calibVar can numeric vector measured SWC values (calibVar = \"SWC\"), data frame first column containing measured total transpiration (named Eplanttot) following columns containing cohorts transpiration. RZmin minimum value RZ (rooting depth) explored (mm) RZmax maximum value RZ (rooting depth) explored (mm) V1min minimum value V1 (root proportion first soil layer) explored V1max maximum value V1 (root proportion first soil layer) explored resolution integer defining number values obtain discretization root parameters RZ V1. number parameter combinations therefore computation cost increases increase square resolution heat_stop integer defining number days discard calculation optimal root distribution. Usefull soil water content initialization certain transformation Function modify size Z intervals explored (default, bins equal). verbose logical value. Print internal messages function?","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrCalibration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calibration of root distribution — spwb_ldrCalibration","text":"function returns data frame containing species index used medfate, calibrated values Z50, Z95 V1 MAE value combination.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrCalibration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calibration of root distribution — spwb_ldrCalibration","text":"function performs three different kinds calibration, selecting root distribution parameters minimize MAE predicted values measured values provided obs argument. calibVar = \"SWC\" different V1 values tested running spwb maintaining total soil depth provided x assuming value also depth containing 95 percent roots. calibVar = \"Eplanttot\" calibVar = 'Cohorts' different combinations RZ V1 values tested tree cohort root paramters selected based MAE total transpiration cohort transpiration.","code":""},{"path":[]},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrCalibration.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Calibration of root distribution — spwb_ldrCalibration","text":"Víctor Granda, CREAF Antoine Cabon, CTFC-CREAF Miquel De Cáceres Ainsa, CREAF","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrOptimization.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimization of root distribution — spwb_ldrExploration","title":"Optimization of root distribution — spwb_ldrExploration","text":"Functions spwb_ldrExploration spwb_ldrOptimization used find optimum species root distribution within spwb, given arguments x, meteo psi_crit.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrOptimization.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimization of root distribution — spwb_ldrExploration","text":"","code":"spwb_ldrExploration(   x,   meteo,   cohorts = NULL,   RZmin = 301,   RZmax = 4000,   V1min = 0.01,   V1max = 0.94,   resolution = 10,   heat_stop = 0,   transformation = \"identity\",   verbose = FALSE,   ... )  spwb_ldrOptimization(y, psi_crit, opt_mode = 1)"},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrOptimization.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimization of root distribution — spwb_ldrExploration","text":"x object class spwbInput. meteo data frame daily meteorological data series (see spwb). cohorts character string names cohorts explored. NULL cohorts explored. RZmin minimum value RZ (rooting depth) explored (mm) RZmax maximum value RZ (rooting depth) explored (mm) V1min minimum value V1 (root proportion first soil layer) explored V1max maximum value V1 (root proportion first soil layer) explored resolution integer defining number values obtain discretization root parameters RZ V1. number parameter combinations therefore computation cost increases increase square resolution heat_stop integer defining number days discard calculation optimal root distribution. Usefull soil water content initialization certain transformation Function modify size Z intervals explored (default, bins equal). verbose logical value. Print internal messages function? ... Additional parameters function spwb. y result calling spwb_ldrExploration. psi_crit numerical vector length iqual number species plot containing species values water potential inducing hydraulic failure (MPa). Use NA values skip optimization particular plant cohorts. opt_mode Optimization mode: opt_mode = 1 maximizes transpiration along line stress equal psi_crit (Cabon et al. 2018). optimization based eco-hydrological equilibrium hypothesis (Eagleson, 1982), formulated root distribution plant transpiration maximized plant water potential close species-defined critical value psi_crit (Cabon et al.,2018). opt_mode = 2 maximizes transpiration among combinations stress according psi_crit). opt_mode = 3 maximizes photosynthesis among combinations stress according psi_crit). opt_mode = 4 maximizes transpiration, subject root construction constrains, among combinations stress according psi_crit). opt_mode = 5 maximizes photosynthesis, subject root construction constrains, among combinations stress according psi_crit).","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrOptimization.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimization of root distribution — spwb_ldrExploration","text":"Function spwb_ldrExploration returns list containing list containing explored RZ V1 combinations well arrays values average daily plant transpiration, average daily net photosynthesis minimum plant water potential cohort parameter combination. Function spwb_ldrOptimization  returns data frame containing species index used medfate, psi_crit optimized values V1 LDR parameters Z50 Z95 (see root_ldrDistribution) many rows number species.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrOptimization.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Optimization of root distribution — spwb_ldrExploration","text":"combination parameters RZ V1 function spwb_ldrExploration runs spwb, setting total soil depth equal RZ. root proportion soil layer derived V1, depth first soil layer RZ using LDR root distribution model (Schenk Jackson, 2002) assuming depth containing 95 percent roots equal RZ. Function spwb_ldrOptimization takes result exploration tries find optimum root distribution parameters. psi_crit, species specific water potential inducing hydraulic failure, can approached water potential inducing 50 percent loss conductance gymnosperms 88 percent angiosperms (Urli et al., 2013, Brodribb et al., 2010). Details hypothesis limitations optimization method given Cabon et al. (2019).","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrOptimization.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Optimization of root distribution — spwb_ldrExploration","text":"Brodribb, T.J., Bowman, D.J.M.S., Nichols, S., Delzon, S., Burlett, R., 2010. Xylem function growth rate interact determine recovery rates exposure extreme water deficit. New Phytol. 188, 533–542. doi:10.1111/j.1469-8137.2010.03393.x Cabon, ., Martínez-Vilalta, J., Poyatos, R., Martínez de Aragón, J., De Cáceres, M. (2018) Applying eco-hydrological equilibrium hypothesis estimate root ditribution water-limited forests. Ecohydrology 11: e2015. Eagleson, P.S., 1982. Ecological optimality water-limited natural soil-vegetation systems: 1. Theory hypothesis. Water Resour. Res. 18, 325–340. doi:10.1029/WR018i002p00325 Schenk, H.J., Jackson, R.B., 2002. Global Biogeography Roots. Ecol. Monogr. 72, 311. doi:10.2307/3100092 Urli, M., Porte, .J., Cochard, H., Guengant, Y., Burlett, R., Delzon, S., 2013. Xylem embolism threshold catastrophic hydraulic failure angiosperm trees. Tree Physiol. 33, 672–683. doi:10.1093/treephys/tpt030","code":""},{"path":[]},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_ldrOptimization.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Optimization of root distribution — spwb_ldrExploration","text":"Antoine Cabon, WSL Miquel De Cáceres Ainsa, CREAF","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_rockOptimization.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimization of rock fragment content — spwb_rockOptimization","title":"Optimization of rock fragment content — spwb_rockOptimization","text":"Function spwb_rockOptimization finds optimum rock fragment content soil corresponding given vegetation, weather target percent loss conductance (PLC), following method described Druel et al. (2023).","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_rockOptimization.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimization of rock fragment content — spwb_rockOptimization","text":"","code":"spwb_rockOptimization(   x,   soil,   SpParams,   control,   meteo,   PLC90_target = 12,   PLC90_tol = 0.5,   max_simu = 7,   model_varLim = 10,   max_rocks = 99,   verbose = FALSE,   ... )"},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_rockOptimization.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimization of rock fragment content — spwb_rockOptimization","text":"x object class forest. soil object class data.frame soil, containing soil parameters per soil layer. SpParams data frame species parameters (see SpParamsDefinition SpParamsMED). control list default control parameters (see defaultControl). meteo data frame daily meteorological data series (see spwb). PLC90_target Stem PLC target (quantile 90). PLC90_tol Limit PLC target tolerance, conditions. max_simu Maximum simulation authorized stopping. model_varLim Limit soil extractable water (SEW) variation model accepted. max_rocks Maximum content coarse fragments allowed soil layer. verbose logical value. Print internal messages function? ... Additional parameters function spwb.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_rockOptimization.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimization of rock fragment content — spwb_rockOptimization","text":"Function spwb_rockOptimization returns list containing estimated rock fragment content, corresponding soil extractable water dataframe simulation results needed estimation.","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_rockOptimization.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Optimization of rock fragment content — spwb_rockOptimization","text":"function performs model inversion based ecohydrological assumption, consisting forest leaf area index equilibrium low embolism rate normal conditions. translated 90% interannual quantile maximum annual percent loss conductance (PLC), averaged plant cohorts, close target PLC value (default 12%).","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_rockOptimization.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Optimization of rock fragment content — spwb_rockOptimization","text":"Druel, ., Martins, N., Cochard, H., De Caceres, M., Delzon, S., Mencuccini, M., Torres-Ruiz, J., Ruffault, J.: European forest vulnerability hydraulic failure: ecohydrological approach, EGU General Assembly 2023, Vienna, Austria, 24–28 Apr 2023, EGU23-17068, https://doi.org/10.5194/egusphere-egu23-17068, 2023.","code":""},{"path":[]},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_rockOptimization.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Optimization of rock fragment content — spwb_rockOptimization","text":"Arsène Druel, URFM-INRAE Nicolas Martin-StPaul, URFM-INRAE Miquel De Cáceres Ainsa, CREAF","code":""},{"path":"https://emf-creaf.github.io/medfateutils/reference/spwb_rockOptimization.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Optimization of rock fragment content — spwb_rockOptimization","text":"","code":"# \\donttest{ #Load example daily meteorological data data(examplemeteo)  #Load example plot plant data data(exampleforest)  #Default species parameterization data(SpParamsMED)  #Initialize soil with two layers examplesoil <- defaultSoilParams(4)  #Rock fragment content optimization (Granier) spwb_rockOptimization(exampleforest, soil = examplesoil,                       SpParams = SpParamsMED, meteo = examplemeteo,                       control = defaultControl(\"Granier\"),                       elevation = 100, latitude = 41.82592) #> $SEW #> [1] 27.45323 #>  #> $RFC #> [1] 67.03856 99.00000 99.00000 99.00000 #>  #> $SimulationTable #>      SEW        PLC90 #> 1   0.00 1.000000e+02 #> 2 200.00 4.542664e-05 #> 3  50.00 7.378693e-01 #> 4   8.08 7.094278e+01 #>  # }"},{"path":"https://emf-creaf.github.io/medfateutils/news/index.html","id":"version-030","dir":"Changelog","previous_headings":"","what":"Version 0.3.0","title":"Version 0.3.0","text":"Trait functions moved package medfatetraits","code":""},{"path":"https://emf-creaf.github.io/medfateutils/news/index.html","id":"version-020","dir":"Changelog","previous_headings":"","what":"Version 0.2.0","title":"Version 0.2.0","text":"Revision trait parsing New function sf2forest New species parameter tables: SpParamsES, SpParamsFR, SpParamsUS SpParamsAU","code":""},{"path":"https://emf-creaf.github.io/medfateutils/news/index.html","id":"version-017","dir":"Changelog","previous_headings":"","what":"Version 0.1.7","title":"Version 0.1.7","text":"Compliance medfate ver. 2.9.0 Warning raised taxon names match Rewriting IFN2forest function Species mapping table IFN Functions spwb_ldrOptimization, spwb_ldrCalibration spwb_sensitivity moved medfate New function spwb_rockOptimization, Arsene Druel & Nico MartinStPaul","code":""},{"path":"https://emf-creaf.github.io/medfateutils/news/index.html","id":"version-014","dir":"Changelog","previous_headings":"","what":"Version 0.1.4","title":"Version 0.1.4","text":"Names changed IFN example datasets Update function ‘forest_mapShrubTable’ Function split ‘modifySoilDepth’ ‘modifySoilRockContent’ Changed dependency package ‘sp’ ‘sf’","code":""},{"path":"https://emf-creaf.github.io/medfateutils/news/index.html","id":"version-013","dir":"Changelog","previous_headings":"","what":"Version 0.1.3","title":"Version 0.1.3","text":"Keep num orden IFN data Data set Poblet tree data added New function modifySoilParams()","code":""},{"path":"https://emf-creaf.github.io/medfateutils/news/index.html","id":"version-012","dir":"Changelog","previous_headings":"","what":"Version 0.1.2","title":"Version 0.1.2","text":"SoilGrids REST API relocated https://rest.isric.org/soilgrids/v2.0/docs","code":""}]
